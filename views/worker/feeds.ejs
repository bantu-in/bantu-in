<!DOCTYPE html>
<html lang="en">
    <%- include ../partials/head.ejs %>
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      
    </style>

<body>
    <%- include ../partials/navbar.ejs %>
        <div id="map"></div>
        <script>
            let pos = {
                lat: <%- data.lat %>,
                lng: <%- data.lng %>
            }
           
            var map;
            function initMap() {
                map = new google.maps.Map(document.getElementById('map'), {
                    center: pos,
                    zoom: 8
                });
                
                let user = new google.maps.Marker({
                    position: pos,
                    map: map,
                    title: '<%- data.firstName %>',
                    icon: "https://img.icons8.com/cotton/64/000000/workers-male.png"
                });

                let info = new google.maps.InfoWindow({
                    content: `<%- data.firstName%> <%- data.lastName %>`
                })

                user.addListener('click', function(){
                    info.open(map, user)
                })
            }
        </script>
    <div class="container">
        <!-- ADD CONTENT HERE -->
        <div class="container">
            <h4 class="title">Available Projects</h4>
            <% posts.forEach( post => { %>
                <div class="card white">
                    <div class="card-content">
                        <a href=""><h5><%= post.title %> </h5></a>
                        <p> <%= post.body %> </p>
                    </div>
                </div>
            <% } ) %>
        </div>
        
    </div>

<%- include ../partials/loadScript.ejs %>
</body>
</html>